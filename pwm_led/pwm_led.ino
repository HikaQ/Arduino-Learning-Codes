// 初始化设置函数，在程序启动时运行一次
void setup() 
{
  // 设置LEDC通道3：频率为1000HZ，分辨率为10位（占空比范围0~1023）
  ledcSetup(3, 1000, 10); /* 占空比范围0~1023 */

  // 将GPIO引脚43连接到LEDC通道3
  ledcAttachPin(43, 3);
}

// 主循环函数，setup()执行完后重复运行
void loop()
{
  // 第一个for循环：从0到1023逐渐增加占空比 不断变亮
  for (uint16_t i = 0; i < 1024; i++)
  {
    // 设置通道3的占空比为当前i值
    ledcWrite(3, i);
    // 延迟2毫秒，控制亮度变化速度
    delay(2);
  }
  // 第二个for循环：从1023到1逐渐减小占空比 不断变暗
  for (uint16_t j = 1023; j > 0; j--)
  {
    // 设置通道3的占空比为当前j值
    ledcWrite(3, j);
    // 延迟2毫秒，控制亮度变化速度
    delay(2);
  }
}
